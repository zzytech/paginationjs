/*
 * pagination.js 2.1.5
 * A jQuery plugin to provide simple yet fully customisable pagination
 * https://github.com/superRaytin/paginationjs

 * Homepage: http://pagination.js.org
 *
 * Copyright 2014-2100, superRaytin
 * Released under the MIT license.
*/

!function(o,J){void 0===J&&A("Pagination requires jQuery.");var n="pagination",r="__pagination-";J.fn.pagination&&(n="pagination2"),J.fn[n]=function(a){if(void 0===a)return this;var t,d=J(this),O=J.extend({},J.fn[n].defaults,a),e={initialize:function(){var t,i=this;d.data("pagination")||d.data("pagination",{}),!1!==i.callHook("beforeInit")&&(d.data("pagination").initialized&&J(".paginationjs",d).remove(),i.disabled=!!O.disabled,t=i.model={pageRange:O.pageRange,pageSize:O.pageSize},i.parseDataSource(O.dataSource,function(a){i.isAsync=D.isString(a),D.isArray(a)&&(t.totalNumber=O.totalNumber=a.length),i.isDynamicTotalNumber=i.isAsync&&O.totalNumberLocator;var e=i.render(!0);O.className&&e.addClass(O.className),t.el=e,d["bottom"===O.position?"append":"prepend"](e),i.observer(),d.data("pagination").initialized=!0,i.callHook("afterInit",e)}))},render:function(a){var e=this,t=e.model,i=t.el||J('<div class="paginationjs"></div>'),o=!0!==a;e.callHook("beforeRender",o);var n=t.pageNumber||O.pageNumber,r=O.pageRange||0,s=e.getTotalPage(),l=n-r,c=n+r;return s<c&&(l=(l=(c=s)-2*r)<1?1:l),l<=1&&(l=1,c=Math.min(2*r+1,s)),i.html(e.generateHTML({currentPage:n,pageRange:r,rangeStart:l,rangeEnd:c})),O.hideWhenLessThanOnePage&&i[s<=1?"hide":"show"](),e.callHook("afterRender",o),i},generatePageNumbersHTML:function(a){var e,t=a.currentPage,i=this.getTotalPage(),o=a.rangeStart,n=a.rangeEnd,r="",s=O.pageLink,l=O.ellipsisText,c=O.classPrefix,u=O.activeClassName,g=O.disableClassName;if(null===O.pageRange){for(e=1;e<=i;e++)r+=e==t?'<li class="'+c+"-page J-paginationjs-page "+u+'" data-num="'+e+'"><a>'+e+"</a></li>":'<li class="'+c+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+s+'">'+e+"</a></li>";return r}if(o<=3)for(e=1;e<o;e++)r+=e==t?'<li class="'+c+"-page J-paginationjs-page "+u+'" data-num="'+e+'"><a>'+e+"</a></li>":'<li class="'+c+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+s+'">'+e+"</a></li>";else O.showFirstOnEllipsisShow&&(r+='<li class="'+c+"-page "+c+'-first J-paginationjs-page" data-num="1"><a href="'+s+'">1</a></li>'),r+='<li class="'+c+"-ellipsis "+g+'"><a>'+l+"</a></li>";for(e=o;e<=n;e++)r+=e==t?'<li class="'+c+"-page J-paginationjs-page "+u+'" data-num="'+e+'"><a>'+e+"</a></li>":'<li class="'+c+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+s+'">'+e+"</a></li>";if(i-2<=n)for(e=n+1;e<=i;e++)r+='<li class="'+c+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+s+'">'+e+"</a></li>";else r+='<li class="'+c+"-ellipsis "+g+'"><a>'+l+"</a></li>",O.showLastOnEllipsisShow&&(r+='<li class="'+c+"-page "+c+'-last J-paginationjs-page" data-num="'+i+'"><a href="'+s+'">'+i+"</a></li>");return r},generateHTML:function(a){var e=this,t=a.currentPage,i=e.getTotalPage(),o=e.getTotalNumber(),n=O.showPrevious,r=O.showNext,s=O.showPageNumbers,l=O.showNavigator,c=O.showGoInput,u=O.showGoButton,g=O.showPageSizeSelector,p=O.pageSizeSelectorValues,d=O.pageLink,f=O.prevText,m=O.nextText,b=O.goButtonText,h=O.classPrefix,v=O.disableClassName,N=O.ulClassName,y="",k='<input type="text" class="J-paginationjs-go-pagenumber">',P='<input type="button" class="J-paginationjs-go-button" value="'+b+'">',S=J.isFunction(O.formatNavigator)?O.formatNavigator(t,i,o):O.formatNavigator,j=J.isFunction(O.formatGoInput)?O.formatGoInput(k,t,i,o):O.formatGoInput,x=J.isFunction(O.formatGoButton)?O.formatGoButton(P,t,i,o):O.formatGoButton,w=J.isFunction(O.autoHidePrevious)?O.autoHidePrevious():O.autoHidePrevious,T=J.isFunction(O.autoHideNext)?O.autoHideNext():O.autoHideNext,H=J.isFunction(O.header)?O.header(t,i,o):O.header,F=J.isFunction(O.footer)?O.footer(t,i,o):O.footer;if(H&&(y+=e.replaceVariables(H,{currentPage:t,totalPage:i,totalNumber:o})),(n||s||r)&&(y+='<div class="paginationjs-pages">',y+=N?'<ul class="'+N+'">':"<ul>",n&&(t<=1?w||(y+='<li class="'+h+"-prev "+v+'"><a>'+f+"</a></li>"):y+='<li class="'+h+'-prev J-paginationjs-previous" data-num="'+(t-1)+'" title="Previous page"><a href="'+d+'">'+f+"</a></li>"),s&&(y+=e.generatePageNumbersHTML(a)),r&&(i<=t?T||(y+='<li class="'+h+"-next "+v+'"><a>'+m+"</a></li>"):y+='<li class="'+h+'-next J-paginationjs-next" data-num="'+(t+1)+'" title="Next page"><a href="'+d+'">'+m+"</a></li>"),y+="</ul></div>"),l&&S&&(y+='<div class="'+h+'-nav J-paginationjs-nav">'+e.replaceVariables(S,{currentPage:t,totalPage:i,totalNumber:o})+"</div>"),g&&D.isArray(p)){-1===p.indexOf(O.pageSize)&&A('"pageSize" must be one of ['+p.join(", ")+"]");for(var z='<select class="J-paginationjs-page-size-selector">',C=0;C<p.length;C++){var L=p[C];z+='<option value="'+L+'"'+(L===O.pageSize?" selected":"")+">"+L+"</option>"}y+='<div class="'+h+'-page-size-selector">'+(z+="</select>")+"</div>"}return c&&j&&(y+='<div class="'+h+'-go-input">'+e.replaceVariables(j,{currentPage:t,totalPage:i,totalNumber:o,input:k})+"</div>"),u&&x&&(y+='<div class="'+h+'-go-button">'+e.replaceVariables(x,{currentPage:t,totalPage:i,totalNumber:o,button:P})+"</div>"),F&&(y+=e.replaceVariables(F,{currentPage:t,totalPage:i,totalNumber:o})),y},findTotalNumberFromRemoteResponse:function(a){this.model.totalNumber=O.totalNumberLocator(a)},go:function(a,t){var e,i,o,n,r,s,l,c,u=this,g=u.model;function p(a){var e;!1!==u.callHook("beforePaging",c)&&(g.direction=void 0===g.pageNumber?0:c>g.pageNumber?1:-1,g.pageNumber=c,u.render(),u.disabled&&u.isAsync&&u.enable(),d.data("pagination").model=g,O.formatResult&&(e=J.extend(!0,[],a),D.isArray(a=O.formatResult(e))||(a=e)),d.data("pagination").currentPageData=a,u.doCallback(a,t),u.callHook("afterPaging",c),1==c&&u.callHook("afterIsFirstPage"),c==u.getTotalPage()&&u.callHook("afterIsLastPage"))}u.disabled||(c=a,!(c=parseInt(c))||c<1||(e=O.pageSize,i=u.getTotalNumber(),o=u.getTotalPage(),0<i&&o<c||(u.isAsync?((n={})[(r=O.alias||{}).pageSize?r.pageSize:"pageSize"]=e,n[r.pageNumber?r.pageNumber:"pageNumber"]=c,s=J.isFunction(O.ajax)?O.ajax():O.ajax,l={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0},J.extend(!0,l,s),J.extend(l.data,n),l.url=O.dataSource,l.success=function(a){u.isDynamicTotalNumber?u.findTotalNumberFromRemoteResponse(a):u.model.totalNumber=O.totalNumber,p(u.filterDataByLocator(a))},l.error=function(a,e,t){O.formatAjaxError&&O.formatAjaxError(a,e,t),u.enable()},u.disable(),J.ajax(l)):p(u.getDataFragment(c)))))},doCallback:function(a,e){var t=this.model;J.isFunction(e)?e(a,t):J.isFunction(O.callback)&&O.callback(a,t)},destroy:function(){!1!==this.callHook("beforeDestroy")&&(this.model.el.remove(),d.off(),J("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(a){this.go(this.model.pageNumber-1,a)},next:function(a){this.go(this.model.pageNumber+1,a)},disable:function(){var a=this,e=a.isAsync?"async":"sync";!1!==a.callHook("beforeDisable",e)&&(a.disabled=!0,a.model.disabled=!0,a.callHook("afterDisable",e))},enable:function(){var a=this,e=a.isAsync?"async":"sync";!1!==a.callHook("beforeEnable",e)&&(a.disabled=!1,a.model.disabled=!1,a.callHook("afterEnable",e))},refresh:function(a){this.go(this.model.pageNumber,a)},show:function(){this.model.el.is(":visible")||this.model.el.show()},hide:function(){this.model.el.is(":visible")&&this.model.el.hide()},replaceVariables:function(a,e){for(var t in e)var i=e[t],o=new RegExp("<%=\\s*"+t+"\\s*%>","img"),n=(n||a).replace(o,i);return n},getDataFragment:function(a){var e=O.pageSize,t=O.dataSource,i=this.getTotalNumber(),o=e*(a-1)+1,n=Math.min(a*e,i);return t.slice(o-1,n)},getTotalNumber:function(){return this.model.totalNumber||O.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/O.pageSize)},getLocator:function(a){var e;return"string"==typeof a?e=a:J.isFunction(a)?e=a():A('"locator" is incorrect. (String | Function)'),e},filterDataByLocator:function(t){var i,a=this.getLocator(O.locator);if(D.isObject(t)){try{J.each(a.split("."),function(a,e){i=(i||t)[e]})}catch(a){}i?D.isArray(i)||A("dataSource."+a+" must be an Array."):A("dataSource."+a+" is undefined.")}return i||t},parseDataSource:function(a,e){var t=this;D.isObject(a)?e(O.dataSource=t.filterDataByLocator(a)):D.isArray(a)?e(O.dataSource=a):J.isFunction(a)?O.dataSource(function(a){D.isArray(a)||A('The parameter of "done" Function should be an Array.'),t.parseDataSource.call(t,a,e)}):"string"==typeof a?(/^https?|file:/.test(a)&&(O.ajaxDataType="jsonp"),e(a)):A('Unexpected type of "dataSource".')},callHook:function(a){var t,e=d.data("pagination"),i=Array.prototype.slice.apply(arguments);return i.shift(),O[a]&&J.isFunction(O[a])&&!1===O[a].apply(o,i)&&(t=!1),e.hooks&&e.hooks[a]&&J.each(e.hooks[a],function(a,e){!1===e.apply(o,i)&&(t=!1)}),!1!==t},observer:function(){var i=this,t=i.model.el;d.on(r+"go",function(a,e,t){(e=parseInt(J.trim(e)))&&(J.isNumeric(e)||A('"pageNumber" is incorrect. (Number)'),i.go(e,t))}),t.delegate(".J-paginationjs-page","click",function(a){var e=J(a.currentTarget),t=J.trim(e.attr("data-num"));if(t&&!e.hasClass(O.disableClassName)&&!e.hasClass(O.activeClassName))return!1!==i.callHook("beforePageOnClick",a,t)&&(i.go(t),i.callHook("afterPageOnClick",a,t),!!O.pageLink&&void 0)}),t.delegate(".J-paginationjs-previous","click",function(a){var e=J(a.currentTarget),t=J.trim(e.attr("data-num"));if(t&&!e.hasClass(O.disableClassName))return!1!==i.callHook("beforePreviousOnClick",a,t)&&(i.go(t),i.callHook("afterPreviousOnClick",a,t),!!O.pageLink&&void 0)}),t.delegate(".J-paginationjs-next","click",function(a){var e=J(a.currentTarget),t=J.trim(e.attr("data-num"));if(t&&!e.hasClass(O.disableClassName))return!1!==i.callHook("beforeNextOnClick",a,t)&&(i.go(t),i.callHook("afterNextOnClick",a,t),!!O.pageLink&&void 0)}),t.delegate(".J-paginationjs-page-size-selector","change",function(a){var e=J(a.currentTarget),t=parseInt(e.val());O.pageSize=t,i.model.pageSize=t,i.render(!1),i.refresh(),i.callHook("afterPageSizeSelectorChange",a,t)}),t.delegate(".J-paginationjs-go-button","click",function(a){var e=J(".J-paginationjs-go-pagenumber",t).val();if(!1===i.callHook("beforeGoButtonOnClick",a,e))return!1;d.trigger(r+"go",e),i.callHook("afterGoButtonOnClick",a,e)}),t.delegate(".J-paginationjs-go-pagenumber","keyup",function(a){if(13===a.which){var e=J(a.currentTarget).val();if(!1===i.callHook("beforeGoInputOnEnter",a,e))return!1;d.trigger(r+"go",e),J(".J-paginationjs-go-pagenumber",t).focus(),i.callHook("afterGoInputOnEnter",a,e)}}),d.on(r+"previous",function(a,e){i.previous(e)}),d.on(r+"next",function(a,e){i.next(e)}),d.on(r+"disable",function(){i.disable()}),d.on(r+"enable",function(){i.enable()}),d.on(r+"refresh",function(a,e){i.refresh(e)}),d.on(r+"show",function(){i.show()}),d.on(r+"hide",function(){i.hide()}),d.on(r+"destroy",function(){i.destroy()});var a=Math.max(i.getTotalPage(),1),e=O.pageNumber;i.isDynamicTotalNumber&&(e=1),O.triggerPagingOnInit&&d.trigger(r+"go",Math.min(e,a))}};if(d.data("pagination")&&!0===d.data("pagination").initialized){if(J.isNumeric(a))return d.trigger.call(this,r+"go",a,arguments[1]),this;if("string"==typeof a){var i=Array.prototype.slice.apply(arguments);switch(i[0]=r+i[0],a){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":d.trigger.apply(this,i);break;case"getSelectedPageNum":return d.data("pagination").model?d.data("pagination").model.pageNumber:d.data("pagination").attributes.pageNumber;case"getTotalPage":return Math.ceil(d.data("pagination").model.totalNumber/d.data("pagination").model.pageSize);case"getSelectedPageData":return d.data("pagination").currentPageData;case"isDisabled":return!0===d.data("pagination").model.disabled;default:A("Unknown action: "+a)}return this}t=d,J.each(["go","previous","next","disable","enable","refresh","show","hide","destroy"],function(a,e){t.off(r+e)}),t.data("pagination",{}),J(".paginationjs",t).remove()}else D.isObject(a)||A("Illegal options");return function(a){a.dataSource||A('"dataSource" is required.');"string"==typeof a.dataSource?void 0===a.totalNumberLocator?void 0===a.totalNumber?A('"totalNumber" is required.'):J.isNumeric(a.totalNumber)||A('"totalNumber" is incorrect. (Number)'):J.isFunction(a.totalNumberLocator)||A('"totalNumberLocator" should be a Function.'):D.isObject(a.dataSource)&&(void 0===a.locator?A('"dataSource" is an Object, please specify "locator".'):"string"==typeof a.locator||J.isFunction(a.locator)||A(a.locator+" is incorrect. (String | Function)"));void 0===a.formatResult||J.isFunction(a.formatResult)||A('"formatResult" should be a Function.')}(O),e.initialize(),this},J.fn[n].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showPageSizeSelector:!1,pageSizeSelectorValues:[10,20,50,100],showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},J.fn.addHook=function(a,e){arguments.length<2&&A("Missing argument."),J.isFunction(e)||A("callback must be a function.");var t=J(this),i=t.data("pagination");i||(t.data("pagination",{}),i=t.data("pagination")),i.hooks||(i.hooks={}),i.hooks[a]=i.hooks[a]||[],i.hooks[a].push(e)},J[n]=function(a,e){var t;if(arguments.length<2&&A("Requires two parameters."),(t="string"!=typeof a&&a instanceof jQuery?a:J(a)).length)return t.pagination(e),t};var D={};function A(a){throw new Error("Pagination: "+a)}J.each(["Object","Array","String"],function(a,i){D["is"+i]=function(a){return("object"==(t=typeof(e=a))?null==e?"null":Object.prototype.toString.call(e).slice(8,-1):t).toLowerCase()===i.toLowerCase();var e,t}}),"function"==typeof define&&define.amd&&define(function(){return J})}(this,window.jQuery);